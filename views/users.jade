extends layout

block content
  h1 Users
  table
    thead
      tr
        th ID
        th Name
        th Email
        th Role
        th Actions
    tbody
      each user in users
        tr
          td= user.id
          td= user.name
          td= user.email
          td
            if user.roles.includes('disabled')
              span Disabled
            else if user.roles.includes('admin')
              span Admin
            else if user.roles.includes('user')
              span User
          td
            if user.roles.includes('disabled')
              form(action=`/admin/users/enable/${user.id}`, method='post', style='display:inline')
                button(type='submit') Enable
            else
              form(action=`/admin/users/disable/${user.id}`, method='post', style='display:inline')
                button(type='submit') Disable
          td
            if user.roles.includes('user')
              form(action=`/admin/users/promote/${user.id}`, method='post', style='display:inline')
                button(type='submit') Promote to Admin
            else if user.roles.includes('admin')
              form(action=`/admin/users/demote/${user.id}`, method='post', style='display:inline')
                button(type='submit') Demote to User
